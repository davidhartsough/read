(this.webpackJsonpread=this.webpackJsonpread||[]).push([[0],{22:function(e,t,r){},42:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(2),s=r.n(n),o=r(15),c=r.n(o),i=(r(22),r(5)),l=r.n(i),u=r(16),d=r(3),p=r(6),b=r.n(p),h=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/,m=["script","style","area","audio","img","map","track","video","embed","iframe","object","param","picture","source","canvas","noscript","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","menu","applet","bgsound","image"],g=["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","s","samp","small","span","strong","sub","sup","time","u","var","wbr","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","details","dialog","summary","slot","template"],f="",j=window.location.hash.slice(1);function O(){var e=Object(n.useState)(f),t=Object(d.a)(e,2),r=t[0],s=t[1],o=Object(n.useState)(null),c=Object(d.a)(o,2),i=c[0],p=c[1],j=Object(n.useState)(null),O=Object(d.a)(j,2),v=O[0],y=O[1],x=Object(n.useState)(!1),w=Object(d.a)(x,2),k=w[0],E=w[1],A=Object(n.useState)(""),S=Object(d.a)(A,2),L=S[0],T=S[1],B=Object(n.useState)(!1),N=Object(d.a)(B,2),R=N[0],_=N[1];function M(e){if("string"!==typeof e&&-1===e.toLowerCase().indexOf("<!doctype"))return T("Error: Sorry, wrong type of webpage."),void y("Please enter a URL for an HTML page.");var t=(new DOMParser).parseFromString(e,"text/html");T(t.title);var a=t.body;m.forEach((function(e){Array.from(a.getElementsByTagName(e)).forEach((function(e){return e.remove()}))})),Array.from(a.getElementsByTagName("*")).forEach((function(e){e.removeAttribute("style"),g.includes(e.tagName.toLowerCase())||e.remove()}));var n=new URL(r.trim()).origin;Array.from(a.getElementsByTagName("a")).forEach((function(e){e.setAttribute("target","_blank"),e.setAttribute("rel","noreferrer");var t=e.getAttribute("href");t&&t.startsWith("/")&&e.setAttribute("href","".concat(n).concat(t))}));var s=t.getElementById("content")||a;if(e.includes("<article")){var o=a.getElementsByTagName("article");s=Object(d.a)(o,1)[0]}p(s.innerHTML),window.location.hash=r}function U(){return(U=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("Loading ..."),E(!1),y(null),p(null),e.prev=4,e.next=7,b.a.get(r.trim());case 7:t=e.sent,M(t.data),e.next=30;break;case 12:return e.prev=12,e.t0=e.catch(4),e.prev=14,e.next=17,b.a.get("https://cors-anywhere.herokuapp.com/".concat(r.trim()));case 17:a=e.sent,M(a.data),e.next=30;break;case 22:e.prev=22,e.t1=e.catch(14),n={message:e.t1.message},e.t1.response&&(n.status=e.t1.response.status,n.statusText=e.t1.response.statusText,n.data=e.t1.response.data),console.log(n),T("Uh oh. Bummer. Can't get the text from that web page."),y("Are you sure the URL is correct?"),E(!0);case 30:case"end":return e.stop()}}),e,null,[[4,12],[14,22]])})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r?R||function(){U.apply(this,arguments)}():_(!0)},children:[Object(a.jsx)("input",{type:"text",placeholder:"Enter a URL",value:r,onChange:function(e){var t=e.target.value;s(t),_(!h.test(t))},className:R?"error":""}),Object(a.jsx)("button",{type:"submit",disabled:R,children:"READ"})]}),L.length>0&&Object(a.jsx)("h1",{id:"title",children:L}),v&&Object(a.jsx)("p",{children:v}),k&&Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:"If so, then "}),Object(a.jsx)("a",{href:"https://cors-anywhere.herokuapp.com/corsdemo",target:"_blank",rel:"noreferrer",children:'go here and click the button to "Request temporary access to the demo server".'}),Object(a.jsx)("span",{children:" Then try again!"})]}),Object(a.jsx)("article",{dangerouslySetInnerHTML:{__html:i}})]})}j&&h.test(j)&&(f=j),c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c5888ae3.chunk.js.map